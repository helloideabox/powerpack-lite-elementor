!function(d){d(window).on("elementor/frontend/init",()=>{class i extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{swiperContainer:".pp-swiper-slider",swiperSlide:".swiper-slide",postsContainer:".pp-posts-container",posts:".pp-posts",couponsContainer:".pp-coupons",couponsGrid:".pp-coupons-grid-wrapper",coupon:".pp-coupon",filters:".pp-post-filters",filtersDropdown:".pp-post-filters-dropdown"},slidesPerView:{widescreen:3,desktop:3,laptop:3,tablet_extra:3,tablet:2,mobile_extra:2,mobile:1},effect:"slide"}}getDefaultElements(){var e=this.getSettings("selectors");return{$swiperContainer:this.$element.find(e.swiperContainer),$swiperSlide:this.$element.find(e.swiperSlide),$postsContainer:this.$element.find(e.postsContainer),$posts:this.$element.find(e.posts),$couponsContainer:this.$element.find(e.couponsContainer),$couponsGrid:this.$element.find(e.couponsGrid),$coupon:this.$element.find(e.coupon),$filters:this.$element.find(e.filters),$filtersDropdown:this.$element.find(e.filtersDropdown)}}getSliderSettings(e){var t=undefined!==this.elements.$swiperContainer.data("slider-settings")?this.elements.$swiperContainer.data("slider-settings"):"";return void 0!==e&&"undefined"!==t[e]?t[e]:t}getSlidesCount(){return this.elements.$swiperSlide.length}getEffect(){return this.getSliderSettings("effect")||this.getSettings("effect")}getLayout(){let e=undefined!==this.elements.$posts.data("layout")?this.elements.$posts.data("layout"):"grid";return e="pp-coupons"===this.getWidgetType()?this.getElementSettings("layout"):e}getDeviceSlidesPerView(e){var t="slides_per_view"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getSliderSettings(t)||this.getSettings("slidesPerView")[e])}getSlidesPerView(e){return"slide"===this.getEffect()?this.getDeviceSlidesPerView(e):1}getDeviceSlidesToScroll(e){e="slides_to_scroll"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getSliderSettings(e)||1)}getSlidesToScroll(e){return"slide"===this.getEffect()?this.getDeviceSlidesToScroll(e):1}getSpaceBetween(e){return e&&"desktop"!==e&&0,elementorFrontend.utils.controls.getResponsiveControlValue(this.getSliderSettings(),"space_between","size",e)||0}getSwiperOptions(){var e=this.getSliderSettings(),t={slidesPerView:this.getSlidesPerView("desktop"),slidesPerGroup:this.getSlidesToScroll("desktop"),spaceBetween:this.getSpaceBetween(),loop:e.loop,centeredSlides:"yes"===e.centered_slides,speed:e.speed,autoHeight:!0,effect:this.getEffect(),watchSlidesVisibility:!0,watchSlidesProgress:!0,preventClicksPropagation:!1,slideToClickedSlide:!0,handleElementorBreakpoints:!0};if("fade"===this.getEffect()&&(t.fadeEffect={crossFade:!0}),e.show_arrows&&(t.navigation={prevEl:this.isEdit?".elementor-swiper-button-prev":".swiper-button-prev-"+this.getID(),nextEl:this.isEdit?".elementor-swiper-button-next":".swiper-button-next-"+this.getID()}),e.pagination&&(t.pagination={el:this.isEdit?".swiper-pagination":".swiper-pagination-"+this.getID(),type:e.pagination,clickable:!0}),"cube"!==this.getEffect()){const s={},i=elementorFrontend.config.responsive.activeBreakpoints;Object.keys(i).forEach(e=>{s[i[e].value]={slidesPerView:this.getSlidesPerView(e),slidesPerGroup:this.getSlidesToScroll(e)},this.getSpaceBetween(e)&&(s[i[e].value].spaceBetween=this.getSpaceBetween(e))}),t.breakpoints=s}return!this.isEdit&&e.autoplay&&(t.autoplay={delay:e.autoplay_speed,disableOnInteraction:!!e.pause_on_interaction}),t}bindEvents(){var e=this.$element.find(".pp-post-filters-container").data("search-form");"carousel"!==this.getLayout()&&("masonry"===this.getLayout()&&this.initMasonryLayout(),this.elements.$posts.hasClass("pp-posts-skin-checkerboard")&&this.elements.$posts.hasClass("pp-posts-height-auto")&&this.$element.hasClass("pp-equal-height-yes")&&this.setEqualHeightCheckerboard(),this.setPostsCount(1),this.initFilters(),"show"===e&&this.getSearchForm(),this.initLoadMore(),this.initNumberedPagination(),this.initInfiniteScroll()),"carousel"===this.getLayout()&&this.initSlider(),"pp-coupons"===this.getWidgetType()&&this.onCouponClick()}initMasonryLayout(){const t=this.$element.find(".pp-posts"),s=this.getLayout();this.$element.imagesLoaded(function(e){t.isotope({layoutMode:s,itemSelector:".pp-grid-item-wrap"})})}initFilters(){const t=this;this.elements.$filters.find(".pp-post-filter").off("click").on("click",function(){var e;d(this).siblings().removeClass("pp-filter-current"),d(this).addClass("pp-filter-current"),0<t.elements.$filtersDropdown.length&&(e=d(this).data("filter"),(e=t.elements.$filtersDropdown.find('li[data-filter="'+e+'"]')).siblings().removeClass("pp-filter-current"),e.addClass("pp-filter-current"),t.elements.$filtersDropdown.find(".pp-post-filters-dropdown-button").html(d(this).html())),0<t.elements.$couponsContainer.length?t.postsFilterAjax(t,d(this),"coupon"):t.postsFilterAjax(t,d(this),"")}),this.elements.$filtersDropdown.find(".pp-post-filters-dropdown-button").on("click",function(){t.elements.$filtersDropdown.find(".pp-post-filters-dropdown-list").toggle()}),this.elements.$filtersDropdown.find(".pp-post-filters-dropdown-item").off("click").on("click",function(){d(this).siblings().removeClass("pp-filter-current"),d(this).addClass("pp-filter-current"),t.elements.$filtersDropdown.find(".pp-post-filters-dropdown-list").hide(),t.elements.$filtersDropdown.find(".pp-post-filters-dropdown-button").html(d(this).html());var e=d(this).data("filter"),e=t.elements.$filters.find('li[data-filter="'+e+'"]');e.siblings().removeClass("pp-filter-current"),e.addClass("pp-filter-current"),0<t.elements.$couponsContainer.length?t.postsFilterAjax(t,d(this),"coupon"):t.postsFilterAjax(t,d(this),"")}),(0<this.elements.$filters.length||0<this.elements.$filtersDropdown.length)&&(this.initFiltersOnHashChange(t),d(window).on("hashchange",function(){this.initFiltersOnHashChange(t)}.bind(this)))}initFiltersOnHashChange(e){var t;""!==location.hash&&(t=location.hash.split("#")[1],e.elements.$filters.find('li[data-filter=".'+t+'"]').trigger("click"),0<e.elements.$filtersDropdown.length)&&e.elements.$filtersDropdown.find('li[data-filter=".'+t+'"]').trigger("click")}getSearchForm(){const e=this.$element.find(".pp-search-form-input"),t=this.$element.find(".pp-post-filters-container").data("search-action"),s=this;e.on({focus:function(){s.$element.find(".pp-search-form").addClass("pp-search-form-focus")},blur:function(){s.$element.find(".pp-search-form").removeClass("pp-search-form-focus")}}),"instant"==t?this.$element.find(".pp-search-form-input").keyup(function(s,i){let n;return i=i||100,function(){clearTimeout(n);let e=arguments,t=this;n=setTimeout(function(){s.apply(t,e)},i)}}(function(){s.postsSearchAjax(s)})):"button-click"==t&&this.$element.find(".pp-search-form-submit").on("click",function(){s.postsSearchAjax(s)})}initNumberedPagination(){const r=this;d("body").on("click",".pp-posts-pagination-ajax .page-numbers",function(s){var i=d(this).closest(".elementor-widget-pp-posts"),n=d(this).closest(".elementor-widget-pp-coupons");let o=0<n.length?n:i,p=o.find(".pp-post-wrap").last(),e=o.find(".pp-posts"),a=e.data("page");if(0<n.length&&(p=n.find(".pp-coupon").last(),e=n.find(".pp-coupons-grid-wrapper"),a=e.data("page")),"main"!=e.data("query-type")){s.preventDefault(),p.after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');let e=1,t=parseInt(o.find(".pp-posts-pagination .page-numbers.current").html());e=d(this).hasClass("next")?t+1:d(this).hasClass("prev")?t-1:d(this).html();i={page_id:a,widget_id:r.getID(),filter:o.find(".pp-filter-current").data("filter"),taxonomy:o.find(".pp-filter-current").data("taxonomy"),page_number:e,ajax_for:""};0<n.length?(i.ajax_for="coupon",d("html, body").animate({scrollTop:n.find(".pp-coupons-grid").offset().top-30},"slow")):(i.skin=o.find(".pp-posts").data("skin"),d("html, body").animate({scrollTop:o.find(".pp-posts-container").offset().top-30},"slow")),r.callAjax(r,i)}})}initLoadMore(){const l=this;this.loadStatus=!0,d(document).on("click",".pp-post-load-more",function(e){var t=d(this).closest(".elementor-widget-pp-posts"),s=d(this).closest(".elementor-widget-pp-coupons");if(e.preventDefault(),elementorFrontend.isEditMode())return n.show(),coupon_loader.show(),!1;let i=0<s.length?s:t,n=i.find(".pp-posts-loader"),o=l.getPostsCount(),p=i.find(".pp-filter-current").data("filter"),a=i.find(".pp-filter-current").data("taxonomy"),r=i.find(".pp-posts").data("page");e={page_id:r=0<s.length?s.find(".pp-coupons-grid-wrapper").data("page"):r,widget_id:l.getID(),filter:p??"",taxonomy:a??"",page_number:o+1,ajax_for:""};0<s.length?e.ajax_for="coupon":e.skin=i.find(".pp-posts").data("skin"),l.total=i.find(".pp-posts-pagination").data("total"),1==l.loadStatus&&o<l.total&&(n.show(),d(this).hide(),l.callAjax(l,e,!0,o),l.loadStatus=!1)})}initInfiniteScroll(){let o=this,p=1,a=this.$element.find(".pp-posts-loader");if(this.loadStatus=!0,this.elements.$postsContainer.hasClass("pp-posts-infinite-scroll")||this.elements.$couponsContainer.hasClass("pp-coupons-infinite-scroll")){let n=jQuery(window).outerHeight()/1.25;d(window).scroll(function(){if(elementorFrontend.isEditMode())return a.show(),!1;let e=o.$element,t=o.elements.$posts,s=e.find(".pp-post:last");o.elements.$couponsContainer.hasClass("pp-coupons-infinite-scroll")&&(t=o.elements.$couponsGrid,s=e.find(".pp-coupon:last"));var i={page_id:t.data("page"),widget_id:o.getID(),filter:e.find(".pp-filter-current").data("filter"),taxonomy:e.find(".pp-filter-current").data("taxonomy"),page_number:e.find(".page-numbers.current").next("a").html(),ajax_for:""};o.total=e.find(".pp-posts-pagination").data("total"),d(window).scrollTop()+n>=s.offset().top&&(o.elements.$couponsContainer.hasClass("pp-coupons-infinite-scroll")?i.ajax_for="coupon":i.skin=e.find(".pp-posts").data("skin"),1==o.loadStatus)&&p<o.total&&(a.show(),o.callAjax(o,i,!0),p++,o.loadStatus=!1)})}}postsFilterAjax(e,t,s){let i=this.elements.$posts.find(".pp-post-wrap").last(),n=this.elements.$posts.data("page");"coupon"===s&&(i=this.elements.$couponsGrid.find(".pp-coupon").last(),n=this.elements.$couponsGrid.data("page")),i.after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');t={page_id:n,widget_id:this.getID(),filter:t.data("filter"),taxonomy:t.data("taxonomy"),page_number:1,ajax_for:""};"coupon"===s?t.ajax_for="coupon":t.skin=this.$element.find(".pp-posts").data("skin"),this.callAjax(e,t)}postsSearchAjax(e){this.$element.find(".pp-posts .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');var t={page_id:this.$element.find(".pp-posts").data("page"),widget_id:this.$element.data("id"),search:this.$element.find(".pp-search-form-input").val(),page_number:1};this.callAjax(e,t)}callAjax(n,o,p,a){let r=this.$element.find(".pp-posts-loader");d.ajax({url:ppPostsScript.ajax_url,data:{action:"pp_get_post",page_id:o.page_id,widget_id:o.widget_id,category:o.filter,search:o.search,taxonomy:o.taxonomy,skin:o.skin,page_number:o.page_number,ajax_for:o.ajax_for,nonce:ppPostsScript.posts_nonce},dataType:"json",type:"POST",success:function(e){let s=n.elements.$postsContainer,t=s.find(".pp-posts");"coupon"===o.ajax_for&&(s=n.elements.$couponsContainer,t=s.find(".pp-coupons-grid-wrapper"));var i=s.find(".pp-posts-empty");if(i.remove(),0==d(i).length&&d(e.data.not_found).insertBefore(t),1==p?(i=e.data.html,t.append(i)):t.html(e.data.html),s.find(".pp-posts-pagination-wrap").html(e.data.pagination),n.loadStatus=!0,1==p&&(r.hide(),s.find(".pp-post-load-more").show()),n.setPostsCount(o.page_number),"coupon"!==o.ajax_for){let e=s.find(".pp-posts").data("layout"),t=s.find(".pp-posts");"masonry"==e&&s.imagesLoaded(function(){t.isotope("reloadItems"),t.isotope({layoutMode:e,itemSelector:".pp-grid-item-wrap"})})}(a+=1)==n.total&&s.find(".pp-post-load-more").hide(),n.$element.trigger("posts.rendered",[n.$element])}}).done(function(){0<n.$element.find(".elementor-invisible").length&&n.$element.find(".elementor-invisible").removeClass("elementor-invisible")})}setEqualHeightCheckerboard(){var e=elementorFrontend.config.breakpoints;let t=0,s="auto";this.$element.find(".pp-post-wrap").each(function(){d(this).find(".pp-post-content").outerHeight()>t&&(t=d(this).find(".pp-post-content").outerHeight())}),d(window).width()>=e.md&&(s=t),this.$element.find(".pp-post-wrap").css("height",s)}setPostsCount(e){this.$element.find(".pp-post-load-more").attr("data-count",e)}getPostsCount(){return this.$element.find(".pp-post-load-more").data("count")}onCouponClick(){const i=this.getElementSettings();this.elements.$coupon.each(function(){const s=d(this).find(".pp-coupon-code").attr("data-coupon-code");d(this).find(".pp-coupon-code").not(".pp-copied").on("click",function(){if(!(0<d(this).find(".pp-coupon-code-no-code").length)){const t=d(this);var e='<input type="text" value="'+s+'" id="ppCouponInput">';t.append(e),document.getElementById("ppCouponInput").select(),document.execCommand("copy"),d("#ppCouponInput").remove(),"copy"===i.coupon_style?(t.addClass("pp-copied"),t.find(".pp-coupon-copy-text").fadeOut().text(ppPostsScript.copied_text).fadeIn()):(t.find(".pp-coupon-reveal-wrap").css({transform:"translate(200px, 0px)"}),setTimeout(function(){t.find(".pp-coupon-code-text-wrap").removeClass("pp-unreavel"),t.find(".pp-coupon-code-text").text(s),t.find(".pp-coupon-reveal-wrap").remove()},150),setTimeout(function(){t.addClass("pp-copied"),t.find(".pp-coupon-copy-text").fadeOut().text(ppPostsScript.copied_text).fadeIn()},500))}})})}async initSlider(){var e=this.getSliderSettings(),t=this.$element.find(".pp-posts").data("equal-height"),s=elementorFrontend.utils.swiper;this.swiper=await new s(this.elements.$swiperContainer,this.getSwiperOptions()),"yes"===e.pause_on_hover&&this.togglePauseOnHover(!0),"yes"===t&&this.setEqualHeight()}togglePauseOnHover(e){e?this.elements.$swiperContainer.on({mouseenter:()=>{this.swiper.autoplay.stop()},mouseleave:()=>{this.swiper.autoplay.start()}}):this.elements.$swiperContainer.off("mouseenter mouseleave")}setEqualHeight(){let e=this.$element.find(".swiper-slide-visible"),t=-1;e.each(function(){var e=d(this).find(".pp-post").outerHeight();t<e&&(t=e)}),e.each(function(){d(this).find(".pp-post").animate({height:t},{duration:200,easing:"linear"})})}}d.each({posts:["default","classic","card","checkerboard","creative","event","news","portfolio","overlap","template"],coupons:""},function(s,e){"object"==typeof e?d.each(e,function(e,t){elementorFrontend.elementsHandler.attachHandler("pp-"+s,i,t)}):elementorFrontend.elementsHandler.attachHandler("pp-"+s,i)})})}(jQuery);